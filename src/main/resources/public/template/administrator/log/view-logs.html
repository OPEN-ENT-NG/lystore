<div class="log-view" ng-controller="loggerController">
    <div class="row">
        <h1 class="cell">
            <i18n>lystore.log</i18n>
        </h1>
        <div class="right-magnet">
            <button ng-click="logs.export()">
                <i18n>lystore.logs.csv.export</i18n>
            </button>
        </div>
    </div>
    <article>
        <table class="twelve" bottom-scroll="loadMoreLogs()">
            <thead>
            <tr>
                <td class="two"><i18n>date</i18n></td>
                <td class="two"><i18n>user</i18n></td>
                <td class="one"><i18n>action</i18n></td>
                <td class="one"><i18n>context</i18n></td>
                <td class="two"><i18n>resource</i18n></td>
                <td class="four"><i18n>value</i18n></td>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="log in logs.all" ng-click="log.selected = !log.selected">
                <td class="two">[[formatDate(log.date, 'DD/MM/YYYY HH:mm:ss')]]</td>
                <td class="two">[[log.username]]</td>
                <td class="one">[[log.action]]</td>
                <td class="one">[[lang.translate(log.context)]]</td>
                <td class="one">[[log.item]]</td>
                <td class="five">
                    <pre class="twelve"
                         ng-class="{ ellipsis: !log.selected, 'overflow-y': log.selected }">
                        [[formatJson(log.value, log.selected ? 2 : 0)]]
                    </pre>
                </td>
            </tr>
            </tbody>
        </table>
    </article>
</div>