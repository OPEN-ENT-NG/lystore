<div ng-controller="orderEquipmentController">
    <h1>
        <i18n>lystore.orderEquipment.manage.title</i18n>
       <!-- <button class="right-magnet" ng-click="exportCSVorder()"><i18n>lystore.orderEquipment.manage.exportCSV</i18n></button>-->
    </h1>
    <article class="twelve cell order-equipment-manage" ng-repeat="orderEquipment in ordersEquipments.all track by $index">
        <div class="four cell ">
            <h3><em><i18n>lystore.orderEquipment.manage.order</i18n>[[formatDate(orderEquipment.creation_date,'dddd Do MMMM YYYY')]]</em></h3>
            <div class="four cell">
                <img ng-src="[[order.image]]" ng-show="order.image !== null || order.image !== undefined"/>
                <img skin-src="/img/illustrations/pages-default.png" ng-show="order.image===null || order.image===undifined"/>
            </div>
            <div class="seven cell horizontal-margin">
                <h4>[[orderEquipment.name]]</h4>
                <p>[[orderEquipment.summary]]</p>
                <div>
                    <a ng-init="display.orderEquipmentOption[$index] = false" ng-click="displayEquipmentOption($index)" ng-show="orderEquipment.options.length > 0">
                        [[lang.translate(display.orderEquipmentOption[$index] ? 'lystore.options.hide' : 'lystore.options.show')]]
                    </a>
                </div>
            </div>
        </div>
        <div class="four cell centered-text">
            <h3 class="row">
                <i18n>
                    lystore.expected.delivery
                </i18n>
            </h3>
            <p>[[calculateDelivreryDate()]]</p>
        </div>
        <div class="four cell">
            <div class="row cell centered-text order-amount-price vertical-spacing-twice">
                <h3 class="four"><i18n>lystore.quantity</i18n> : [[orderEquipment.amount]]</h3>
                <p class="four">[[calculateTotal(orderEquipment,2)]] <i18n> money.symbol</i18n></p>
            </div>
            <ul class="[[orderEquipment.status]] status-bar cell row">
                <li><i class="validated-status"></i></li>
                <li><i class="validated-status"></i></li>
                <li><i class="validated-status"></i></li>
            </ul>
        </div>
        <div ng-show="orderEquipment.options.length > 0 && display.orderEquipmentOption[$index]">
            <table class="centered ten vertical-spacing option-table">
                <thead>
                <tr>
                    <td>Nom</td>
                    <td>Quantit√©</td>
                    <td>Prix</td>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="option in orderEquipment.options">
                    <td>[[option.name_opt]]</td>
                    <td>[[option.amount_opt]]</td>
                    <td>[[calculatePriceTTC(option.price, option.tax_amount, 2)]]</td>
                </tr>
                </tbody>
            </table>
        </div>
    </article>
</div>